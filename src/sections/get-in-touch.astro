---
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import Container from "../components/container.astro";
import Section from "../components/section.astro";
import { getImage } from "astro:assets";

import bgPattern from "../assets/get-in-touch/bg-pattern.svg";

const optimizedBgPattern = await getImage({ src: bgPattern });

const { lang, prefix } = getLangFromUrl(Astro.url);

const t = useTranslations(lang);

interface Props {
  class?: string;
}

const { class: className } = Astro.props;
---

<Section class="translate-y-[50%] py-[0rem] md:translate-y-[5.375rem] xl:translate-y-[4.5rem] xl:py-[0rem]">
  <Container>
    <div
      class:list={[
        className,
        "px-6 py-16 xl:px-24 xl:py-16 md:p-[3.625rem] gap-8 bg-cover bg-no-repeat bg-right rounded-2xl min-h-[23.688rem] md:min-h-[21.875rem] xl:min-h-[18.25rem] flex flex-col justify-center items-center xl:flex-row xl:justify-between",
      ]}
      style={`background-image: url(${optimizedBgPattern.src});`}
    >
      <div class="flex flex-col items-center gap-4 md:gap-5 xl:items-start xl:gap-6">
        <h2 class="max-w-[17.5rem] text-center text-white xl:max-w-[20rem] xl:text-left">
          {t("get-in-touch.heading")}
        </h2>
        <p class="max-w-[27.375rem] text-center text-white xl:max-w-[28.375rem] xl:text-left">
          {t("get-in-touch.content")}
        </p>
      </div>
      <a
        href={`${prefix}${t("get-in-touch.btn.url")}`}
        aria-label={t("get-in-touch.btn.aria")}
        class="btn-on-dark focus-on-dark"
      >
        {t("get-in-touch.btn.title")}
      </a>
    </div>
  </Container>
</Section>
